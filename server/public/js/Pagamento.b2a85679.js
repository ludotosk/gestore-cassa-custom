(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Pagamento"],{bf79:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"flex flex-col items-center justify-center"},[o("div",{staticClass:"bg-white shadow p-10 rounded m-10 space-y-2 flex flex-col"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"rounded focus:border-gray-500 focus:bg-white focus:ring-0",on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selected=t.target.multiple?o:o[0]}}},[o("option",{attrs:{value:""}},[e._v("Seleziona metodo di pagamento")]),o("option",{attrs:{value:"contante"}},[e._v("Contante")]),o("option",{attrs:{value:"assegno"}},[e._v("Assegno")]),o("option",{attrs:{value:"carta"}},[e._v("Carta")]),o("option",{attrs:{value:"generico",selected:""}},[e._v("Generico")]),o("option",{attrs:{value:"buono"}},[e._v("Buono")]),o("option",{attrs:{value:"sospensione"}},[e._v("Sospensione")]),o("option",{attrs:{value:"credito"}},[e._v("Credito")]),o("option",{attrs:{value:"buono+resto"}},[e._v("Buono + Resto")])]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.cliente,expression:"cliente"}],staticClass:"w-full block rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0 hover:border-blue-300",attrs:{type:"text",placeholder:"nome cliente"},domProps:{value:e.cliente},on:{input:function(t){t.target.composing||(e.cliente=t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.cf,expression:"cf"}],staticClass:"w-full block rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0 hover:border-blue-300",attrs:{type:"text",placeholder:"codice fiscale o p.iva"},domProps:{value:e.cf},on:{input:function(t){t.target.composing||(e.cf=t.target.value)}}}),o("button",{staticClass:"bg-green-500 p-1 rounded hover:bg-green-600",on:{click:e.stampaScontrino}},[e._v(" Stampa ")]),o("button",{staticClass:"bg-red-500 p-1 rounded hover:bg-red-600",on:{click:e.annulla}},[e._v(" Annulla ")]),e.selezionaMetodo?o("p",{staticClass:"text-red-500"},[e._v(" Selezionare un metodo di pagamento per poter stampare ")]):e._e()])])},a=[],r=o("5530"),i=o("1da1"),c=(o("96cf"),o("bc3a")),s=o.n(c),l=o("0983"),u=o("2f62"),d={name:"pagamento",data:function(){return{selezionaMetodo:!1,selected:""}},methods:{stampaScontrino:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var o,n,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.isASCII(e.cliente)&e.isASCII(e.cf))){t.next=23;break}if(""!=e.selected){t.next=5;break}e.selezionaMetodo=!0,t.next=21;break;case 5:return e.stampa=!1,o=e.selected,n=e.cliente,a=e.cf,e.$store.commit("aggiungiArticolo",{cliente:n}),e.$store.commit("aggiungiArticolo",{cf:a}),e.$store.commit("aggiungiArticolo",{pagamento:o}),r={},r.token=e.token,r.chiave=e.chiave,r.scontrino=e.scontrino,t.next=18,l["a"].encSim(JSON.stringify(r),e.chiaveServer);case 18:return i=t.sent,t.next=21,s.a.post("scontrini",i,{headers:{"Content-Type":"text/plain"}});case 21:t.next=24;break;case 23:window.alert("Caratteri non validi in nome cliente o codice fiscale");case 24:case"end":return t.stop()}}),t)})))()},annulla:function(){console.log(this.scontrino.indexOf(this.selected)),this.$store.commit("cancellaArticolo",this.scontrino.indexOf(this.selected)),this.$router.push({name:"Home"})},isASCII:function(e){return/^[\x20-\x7F]*$/.test(e)}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(u["c"])({scontrino:"getScontrino"})),Object(u["c"])({pubkey:"getPubkey"})),Object(u["c"])({chiave:"getChiave"})),Object(u["c"])({token:"getToken"})),Object(u["c"])({chiaveServer:"getChiaveServer"}))},p=d,v=o("2877"),g=Object(v["a"])(p,n,a,!1,null,null,null);t["default"]=g.exports}}]);
//# sourceMappingURL=Pagamento.b2a85679.js.map